{% load menu_tags %}

<!--
Шаблон для отображения главного меню сайта. Использует теги шаблонов Django для
обработки меню, переданного в контексте, и отображения его пунктов и дочерних пунктов.
-->
<ul class="main-menu">
    {% for item in menu %}
        <li class="{% if item.is_active %}active{% endif %}">
            <a href="{% if item.url %}{{ item.url }}{% else %}{% url item.named_url %}{% endif %}">
                {{ item.name }}
            </a>
            {% if item.children %}
                <ul>
                    {% for child in item.children %}
                        <li class="{% if child.is_active %}active{% endif %}">
                            <a href="{% if child.url %}{{ child.url }}{% else %}{% url child.named_url %}{% endif %}">
                                {{ child.name }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </li>
    {% endfor %}
</ul>


